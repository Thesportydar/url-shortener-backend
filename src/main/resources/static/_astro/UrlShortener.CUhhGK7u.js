import{h as l}from"./hooks.module.DxH44NtO.js";import"./preact.module.Bl_WOuGg.js";import{u as e}from"./jsxRuntime.module.svk5Rx1j.js";function x(){const[a,i]=l(""),[n,c]=l(""),[d,s]=l(!1),m=async t=>{t.preventDefault(),s(!1);try{const r=await fetch("/api",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({longUrl:a})});if(!r.ok)throw new Error("Error al acortar la URL.");const o=await r.json();c(o.shortUrl),s(!0),u(o.shortUrl,a)}catch(r){console.error(r)}};function u(t,r){let o=JSON.parse(localStorage.getItem("urls")||"[]");o.unshift({longUrl:r,shortUrl:t,date:new Date().toISOString()}),localStorage.setItem("urls",JSON.stringify(o))}function p(t){const r=document.createElement("textarea");r.value=t,document.body.appendChild(r),r.select(),document.execCommand("copy"),document.body.removeChild(r),console.log("URL copiada al portapapeles")}return e("div",{class:"mx-auto w-full max-w-3xl space-y-8",children:[e("div",{class:"bg-white p-6 md:rounded-md shadow-md",children:e("form",{class:"flex flex-col gap-4 sm:flex-row",onSubmit:m,children:[e("input",{type:"url",placeholder:"Pega tu URL aquÃ­...",class:"flex-1 text-lg border rounded-md py-1 px-4 border-gray-300 outline-offset-4 outline-gray-400",value:a,onInput:t=>i(t.target.value)}),e("button",{class:"flex py-2 px-8 rounded-md gap-4 bg-gradient-to-r from-purple-600 to-pink-600 text-white text-sm font-bold items-center cursor-pointer justify-center",children:[e("span",{children:"Acortar URL"}),e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-4",children:e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"})})]})]})}),d&&e("div",{className:"bg-white p-6 md:rounded-md shadow-md space-y-4",children:[e("div",{className:"flex items-center gap-2 text-green-600",children:[e("div",{className:"rounded-full bg-green-100 p-1",children:e("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),e("p",{className:"font-medium",children:"URL acortada con exito!"})]}),e("div",{className:"space-y-2",children:[e("div",{children:[e("label",{className:"text-sm font-medium text-gray-500",children:"Tu URL acortada"}),e("div",{className:"mt-1 flex items-center gap-2",children:[e("input",{readOnly:!0,value:n,size:25,className:"font-medium p-2 border border-gray-300 rounded-md outline-offset-4 outline-gray-400"}),e("button",{onClick:()=>p(n),className:"p-2 rounded-md border border-gray-300 hover:bg-gray-100 transition-colors cursor-pointer",children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6",children:e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5A3.375 3.375 0 0 0 6.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0 0 15 2.25h-1.5a2.251 2.251 0 0 0-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 0 0-9-9Z"})}),e("span",{className:"sr-only",children:"Copiar URL"})]})]})]}),e("div",{className:"space-y-2",children:[e("label",{className:"text-sm font-medium text-gray-500",children:"URL Original"}),e("p",{className:"truncate text-sm text-gray-600",children:a})]})]})]})]})}export{x as default};
